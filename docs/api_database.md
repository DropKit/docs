---
id: api_database
title: Database API Reference
sidebar_label: Database
---

## Methods

<AUTOGENERATED_TABLE_OF_CONTENTS>

---

## Reference

### `/api/db/create`

Executes create query against DropKit

```
POST /api/db/create
```

#### Parameters

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| db_statement | string | SQL exec command        |
| caller_pk    | string | Caller private key      |

#### Response

Content Type: `application/json`

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| Result       | string | Status code             |
| Hash         | string | Audit log hash          |

#### Status Code

| Code         | Reason                       |
| ------------ | ---------------------------- |
| 200          | Success                      |

#### Sample Input

```json
{
    "db_statement": "CREATE TABLE employee (id int PRIMARY KEY, name varchar, age int, language varchar)",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}
```

#### Sample Response

```json
{
    "Result": "200",
    "Hash": "0x00aef6d98c481201d19a029361d30e723bb7b2ce7155eff0406abec76a47f64b"
}
```

#### curl Example

```bash
curl http://localhost:5000/api/db/create \
-X POST \
-d '{
    "db_statement": "CREATE TABLE employee (id int PRIMARY KEY, name varchar, age int, language varchar)",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}'

{"Result":"200","Hash":"0xb6e1904ece14858b5ce3092eb4ac91e6d8a73151aab91e2fa93fedab22b9833c"}
```

### `/api/db/insert`

Executes insert query against DropKit

```
POST /api/db/insert
```

#### Parameters

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| db_statement | string | SQL exec command        |
| caller_pk    | string | Caller private key      |

#### Response

Content Type: `application/json`

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| Result       | string | Status code             |
| Hash         | string | Audit log hash          |

#### Status Code

| Code         | Reason                       |
| ------------ | ---------------------------- |
| 200          | Success                      |
| 401          | Unauthorized                 |

#### Sample Input

```json
{
    "db_statement": "INSERT INTO employee (id, name, age, language) VALUES (1, 'John', 35, 'Go')",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}
```

#### Sample Response

```json
{
    "Result": "200",
    "Hash": "0x00aef6d98c481201d19a029361d30e723bb7b2ce7155eff0406abec76a47f64b"
}
```

#### curl Example

```bash
curl http://localhost:5000/api/db/insert \
-X POST \
-d '{
    "db_statement": "INSERT INTO employee (id, name, age, language) VALUES (1, 'John', 35, 'Go')",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}'

{"Result":"200","Hash":"0xb6e1904ece14858b5ce3092eb4ac91e6d8a73151aab91e2fa93fedab22b9833c"}
```

### `/api/db/select`

Executes select query against DropKit

```
POST /api/db/select
```

#### Parameters

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| db_statement | string | SQL exec command        |
| caller_pk    | string | Caller private key      |

#### Response

Content Type: `application/json`

| Name         | Type   | Description             |
| ------------ | ------ | ----------------------- |
| Result       | string | Status code             |
| Response     | json   | Database response       |
| Hash         | string | Audit log hash          |

#### Status Code

| Code         | Reason                       |
| ------------ | ---------------------------- |
| 200          | Success                      |
| 401          | Unauthorized                 |

#### Sample Input

```json
{
    "db_statement": "SELECT name, age, language FROM employee WHERE id = 1",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}
```

#### Sample Response

```json
{
    "Result": "200",
    "Response": [
        {
            "age": 35,
            "language": "Go",
            "name": "John"
        }
    ],
    "Hash": "0x009ba272ddb8cca1872bb1648cd007624dec77d7ef458849e66dc820b7395aa3"
}
```

#### curl Example

```bash
curl http://localhost:5000/api/db/select \
-X POST \
-d '{
    "db_statement": "SELECT name, age, language FROM employee WHERE id = 1",
    "caller_pk": "00000000000000000000000000000000000000000000000000000000000000000000"
}'

{"Result":"200","Response":[{"age":35,"language":"Go","name":"John"}],"Hash":"0x7712bc8ffc05a11ac75f0ad2367c6bf775e9855549a07ef88d731e1f46b814ed"}
```
